<template>
  <section class="relative overflow-hidden bg-[#1f2334] md:pt-20">
    <section class="relative overflow-hidden">
      <!-- Decorative Background Vectors -->
      <span class="banner-vector absolute right-[30%] top-[20%]">
        <img src="data:image/svg+xml,%3csvg%20width='39'%20height='45'%20viewBox='0%200%2039%2045'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.35993%208.12197C-0.593748%2013.8731%20-1.08911%2028.1803%202.52242%2035.9656C7.8417%2047.1326%2027.7987%2047.1679%2033.3327%2036.604C37.5794%2028.3821%2036.4727%2017.5359%2038.6821%200.572389C22.3362%203.68367%209.16665%202.37763%204.35993%208.12197Z'%20fill='%23B2EDA1'%20fill-opacity='0.3'/%3e%3c/svg%3e" alt="decoration" />
      </span>
      <span class="banner-vector absolute left-[44%] top-[35%]">
        <img src="data:image/svg+xml,%3csvg%20width='52'%20height='41'%20viewBox='0%200%2052%2041'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.6144%200.0465448C13.3054%20-0.784969%201.64645%209.71291%200.397269%2016.469C-1.99699%2029.5653%206.64316%2041.5183%2020.5923%2040.8947C28.816%2040.4789%2036.6234%2031.2283%2051.9258%2021.2502C36.4152%2010.7523%2028.0873%201.81351%2018.6144%200.0465448Z'%20fill='%23B2EDA1'%20fill-opacity='0.3'/%3e%3c/svg%3e" alt="decoration" />
      </span>
      <span class="banner-vector absolute bottom-[18%] left-[45%]">
        <img src="data:image/svg+xml,%3csvg%20width='46'%20height='36'%20viewBox='0%200%2046%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.4394%203.70549C-0.531861%2010.5655%20-4.38354%2021.3752%206.75495%2035.7188C18.3098%2031.2494%2030.3852%2026.5721%2046%2020.5437C36.3188%202.66613%2026.3254%20-5.0254%2011.4394%203.70549Z'%20fill='%23B2EDA1'%20fill-opacity='0.3'/%3e%3c/svg%3e" alt="decoration" />
      </span>
      <span class="banner-vector absolute right-[40%] top-[56%]">
        <img src="data:image/svg+xml,%3csvg%20width='43'%20height='42'%20viewBox='0%200%2043%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.8398%200C-0.443787%2011.5373%20-4.19132%2022.8667%205.48979%2033.5724C16.7324%2045.9412%2029.0159%2042.8229%2042.2364%2027.4399C30.6815%2017.046%2021.5209%208.73089%2011.8398%200Z'%20fill='%23B2EDA1'%20fill-opacity='0.3'/%3e%3c/svg%3e" alt="decoration" />
      </span>
      <span class="banner-vector absolute bottom-[13%] left-[25%]">
        <img src="data:image/svg+xml,%3csvg%20width='22'%20height='12'%20viewBox='0%200%2022%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.87043%2011.9367C9.11631%2010.5855%2015.5704%209.1303%2021.8163%207.77909C21.3999%205.28455%2021.0876%202.89395%2020.6712%200.399414C14.0089%201.02305%207.34665%201.64669%200.892578%202.27032C1.51717%205.59638%202.24584%208.71455%202.87043%2011.9367Z'%20fill='%23B2EDA1'%20fill-opacity='0.3'/%3e%3c/svg%3e" alt="decoration" />
      </span>
      <span class="banner-vector absolute left-[25%] top-[18%]">
        <img src="data:image/svg+xml,%3csvg%20width='49'%20height='47'%20viewBox='0%200%2049%2047'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.82762%207.31652C-2.25929%2015.2616%20-1.57861%2029.3022%208.24752%2039.1752C17.8521%2048.9776%2031.6961%2050.2641%2039.7268%2038.9026C45.4458%2031.1026%2044.49%2018.684%2048.0973%200.246201C29.4497%203.29007%2016.6336%201.84265%208.82762%207.31652Z'%20fill='%23B2EDA1'%20fill-opacity='0.3'/%3e%3c/svg%3e" alt="decoration" />
      </span>

      <div class="container relative mx-auto px-4 pb-[212px] pt-[247px]">
        <!-- Decorative Lines -->
        <span class="banner-vector-line1 absolute -top-9 right-[23.2%] z-[3] h-[40%]">
          <img class="h-full" src="data:image/svg+xml,%3csvg%20width='299'%20height='353'%20viewBox='0%200%20299%20353'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M82.8994%20299.957C1.6656%20202.325%20-35.6931%20344.357%2074.3868%20347.838C184.467%20351.319%20385.434%20265.915%20246.722%200.984375'%20stroke='%23B2EDA1'%20stroke-width='10'%20stroke-miterlimit='10'/%3e%3c/svg%3e" alt="decoration" />
        </span>
        <span class="banner-vector-line2 absolute bottom-[-6px] right-[31%] z-0 h-[71%]">
          <img class="h-full" src="data:image/svg+xml,%3csvg%20width='275'%20height='605'%20viewBox='0%200%20275%20605'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.71289%20599.989C1.71289%20599.989%20468.069%20436.813%20169.913%202.97119'%20stroke='%23B2EDA1'%20stroke-width='10'%20stroke-miterlimit='10'/%3e%3c/svg%3e" alt="decoration" />
        </span>

        <div class="row mx-[24px] flex flex-wrap">
          <div class="col-md-6 w-full px-[15px] md:w-1/2">
            <div class="animate-bounce-in-up relative z-[1] opacity-100" style="animation-delay: 200ms">
              <div class="v6-banner-text">
                <h1 class="banner-title mb-[21px] text-left text-6xl font-bold leading-tight text-white">
                  Financial Security Made
                  <span class="mt-[-11px] ml-2.5 inline-block">
                    <span class="relative inline-block overflow-hidden align-top">
                      <span
                        v-for="(word, index) in words"
                        :key="index"
                        :class="[
                          'absolute left-0 top-0 inline-block whitespace-nowrap text-[#B2EDA1] opacity-0 transition-opacity duration-300',
                          { 'relative opacity-100': index === currentWordIndex }
                        ]"
                      >
                        <span class="relative inline-block">
                          {{ word }}
                          <span
                            v-if="index === currentWordIndex"
                            class="absolute bottom-0 left-0 h-2 bg-[#B2EDA1] animate-loading-bar"
                          ></span>
                        </span>
                      </span>
                    </span>
                  </span>
                </h1>
                <p class="my-12 text-lg font-medium leading-9 text-white">
                  Staco is the dedicated platform for human management that helps to grow your startup business quickly
                </p>
                <div class="flex flex-wrap items-center justify-start gap-[30px]">
                  <a
                    href="/sign-up"
                    class="btn-olive-deep group relative flex h-[60px] w-[220px] items-center justify-center overflow-hidden rounded-full bg-[#44c486] font-bold capitalize text-white transition-all duration-300 hover:bg-[#3ab676]"
                  >
                    <span class="relative z-10">Get Start for Free</span>
                  </a>
                  <a
                    href="#"
                    class="lets-talk-bttn group cursor-pointer flex items-center justify-start gap-[15px] group-hover:text-[rgb(68,196,134)] transition-all  duration-300 text-white"
                  >
                  <span class="font-medium transition-all  duration-300 group-hover:text-[rgb(68,196,134)]">
                      Let's talk
                  </span>
                    <span class="icon text-xl h-[30px] w-[30px] flex items-center justify-center rounded-full bg-white/10 group-hover:bg-[rgb(68,196,134)] transition-all duration-300">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="1em"
                        height="1em"
                        viewBox="0 0 24 24"
                        fill="none" class="translate-x-[1px] transition-all duration-300
           stroke-white group-hover:rotate-[-35deg]"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="m8 4l8 8l-8 8"></path>
                      </svg>
                    </span>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6 w-full px-[15px] text-right md:w-1/2 mt-4 md:mt-0">
            <div class="animate-bounce-in-up opacity-100" style="animation-delay: 300ms">
              <div class="relative z-[1] ml-auto flex h-full max-w-[470px] items-center justify-end">
                <div class="relative w-full rounded-2xl left-[10px] top-[-3px] h-[323px]">
                  <video
                    ref="videoElement"
                    class="h-full w-full object-cover rounded-2xl"
                    loop
                    autoplay
                    playsinline
                    muted
                  >
                    <source
                      src="https://staco-react.vercel.app/assets/h6-video-DaLtBHE1.mp4"
                      type="video/mp4"
                    />
                    Your browser does not support the video tag.
                  </video>
                  
                  <button
                    @click="toggleVideo"
                    class="absolute cursor-pointer bottom-[30px] right-[30px] z-[2] flex h-[50px] w-[50px] items-center justify-center rounded-full bg-white text-[28px] text-[#44c486] transition-all duration-300 hover:scale-110"
                  >
                    <span v-if="!isPlaying" class="play">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="1em"
                        height="1em"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                      >
                        <path d="M8 19V5l11 7z"></path>
                      </svg>
                    </span>
                    <span v-else class="pause">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="1em"
                        height="1em"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                      >
                        <path d="M10 18a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1zm7 0a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1z"></path>
                      </svg>
                    </span>
                  </button>
                  
                  <div class="absolute left-0 top-0 z-[1] h-full w-full bg-gradient-to-br from-transparent via-transparent to-black/80"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </section>
</template>

<script setup>
import { ref, onMounted, onUnmounted } from 'vue'

const words = ['Easier', 'Accountable', 'Unbeatable']
const currentWordIndex = ref(0)
const videoElement = ref(null)
const isPlaying = ref(true)

let wordInterval = null

// Cycle through words
const cycleWords = () => {
  wordInterval = setInterval(() => {
    currentWordIndex.value = (currentWordIndex.value + 1) % words.length
  }, 3000) 
}

const toggleVideo = () => {
  if (videoElement.value) {
    if (isPlaying.value) {
      videoElement.value.pause()
    } else {
      videoElement.value.play()
    }
    isPlaying.value = !isPlaying.value
  }
}

onMounted(() => {
  cycleWords()
})

onUnmounted(() => {
  if (wordInterval) {
    clearInterval(wordInterval)
  }
})
</script>

<style scoped>
@keyframes bounceInUp {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes loadingBar {
  0% {
    width: 0%;
  }
  100% {
    width: 100%;
  }
}

.animate-bounce-in-up {
  animation: bounceInUp 0.7s ease-out forwards;
}

.animate-loading-bar {
  animation: loadingBar 3s linear infinite;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .banner-title {
    font-size: 2.5rem;
  }
  
  .container {
    padding-top: 100px !important;
    padding-bottom: 100px !important;
  }
  
  .banner-vector-line1,
  .banner-vector-line2 {
    display: none;
  }
}

@media (max-width: 640px) {
  .banner-title {
    font-size: 2rem;
  }
  
  .v6-banner-text p {
    font-size: 1rem;
    line-height: 1.75rem;
  }
  
  .btn-olive-deep {
    width: 100%;
  }
  
  .v6-banner-img-section {
    margin-top: 3rem;
  }
}
</style>